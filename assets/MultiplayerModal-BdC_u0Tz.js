const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OpenRoomsModal-6fe7ClJM.js","assets/prerender-BIIx8aII.js","assets/vendor-BsMbSbDn.js","prerender.css","OpenRoomsModal.css"])))=>i.map(i=>d[i]);
import{u as T,v as _,j as e,S as L,M as u,_ as F,a as V}from"./prerender-BIIx8aII.js";import{u as E,r as l}from"./vendor-BsMbSbDn.js";const I=l.lazy(()=>F(()=>import("./OpenRoomsModal-6fe7ClJM.js"),__vite__mapDeps([0,1,2,3,4]))),O=Array.from({length:V},(s,i)=>i+1);function $({isOpen:s,onRequestClose:i,showConfigFirst:b=!1,onConfigClose:a,onConfigOpen:n}){const r=E(),{user:v,isVerifiedUser:B}=T(),[o,S]=l.useState(""),[p,y]=l.useState(""),[f,d]=l.useState(b),[m,k]=l.useState(1),[h,M]=l.useState("standard"),[x,A]=l.useState(2),[c,g]=l.useState(!0),[w,j]=l.useState(!1),z=l.useCallback(()=>{d(!0),n==null||n()},[n]),P=l.useCallback(()=>{const t=Math.max(2,Math.min(8,x));r(`/game?mode=multiplayer&host=true&variant=${h}&boards=${m}&maxPlayers=${t}&isPublic=${c}`),d(!1),a==null||a(),i()},[r,i,h,m,x,c,a]),N=l.useCallback(()=>{const t=_(o);if(!t.isValid){y(t.errors.join(". ")||"Please enter a valid 6-digit game code");return}r(`/game?mode=multiplayer&code=${t.value}`),i()},[o,r,i]);return v?B?e.jsxs(e.Fragment,{children:[e.jsx(u,{isOpen:s&&!f,onRequestClose:i,disableAutoFocus:!0,children:e.jsxs("div",{style:{padding:"24px"},children:[e.jsx("h2",{style:{margin:0,marginBottom:"24px",fontSize:20,fontWeight:"bold",color:"#ffffff"},children:"Multiplayer Mode"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("button",{onClick:z,className:"homeBtn homeBtnGreen homeBtnLg",style:{width:"100%"},children:"Host"}),e.jsx("p",{style:{fontSize:12,color:"#818384",marginTop:"8px",textAlign:"center"},children:"Create a new room and share the code with friends."}),e.jsx("button",{type:"button",onClick:()=>j(!0),className:"homeBtn homeBtnOutline homeBtnLg",style:{width:"100%",marginTop:"12px"},children:"View open rooms"})]}),e.jsxs("div",{style:{borderTop:"1px solid #3a3a3c",paddingTop:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#d7dadc",fontSize:14},children:"Enter Game Code:"}),e.jsx("input",{type:"text",value:o,onChange:t=>{const G=t.target.value.replace(/\D/g,"").slice(0,6);S(G),y("")},placeholder:"000000",maxLength:6,style:{width:"100%",padding:"12px",borderRadius:6,border:`1px solid ${p?"#ED2939":"#3A3A3C"}`,background:"#372F41",color:"#ffffff",fontSize:18,textAlign:"center",letterSpacing:"4px",fontFamily:"monospace",marginBottom:"8px"}}),p&&e.jsx("div",{style:{color:"#f06272",fontSize:12,marginBottom:"12px",textAlign:"center"},children:p}),e.jsx("button",{onClick:N,disabled:o.length!==6,className:"homeBtn homeBtnLg "+(o.length===6?"homeBtnGold":"homeBtnNeutral"),style:{width:"100%",opacity:o.length===6?1:.75,cursor:o.length===6?"pointer":"not-allowed"},children:"Join"}),e.jsx("button",{type:"button",onClick:i,className:"homeBtn homeBtnOutline homeBtnLg",style:{width:"100%",marginTop:"12px"},children:"Close"})]})]})]})}),e.jsx(l.Suspense,{fallback:null,children:e.jsx(I,{isOpen:w,onRequestClose:()=>j(!1)})}),e.jsx(u,{isOpen:s&&f,onRequestClose:()=>{d(!1),a==null||a()},children:e.jsxs("div",{style:{padding:"24px"},children:[e.jsx("h2",{style:{margin:0,marginBottom:"24px",fontSize:20,fontWeight:"bold",color:"#ffffff"},children:"Multiplayer Game Configuration"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"multiplayer-host-boards",style:{display:"block",marginBottom:"8px",color:"#d7dadc",fontSize:14},children:"Number of Boards"}),e.jsx("select",{id:"multiplayer-host-boards",value:m,onChange:t=>k(parseInt(t.target.value,10)),style:{width:"100%",padding:"10px",borderRadius:6,border:"1px solid #3A3A3C",background:"#372F41",color:"#ffffff",fontSize:14,cursor:"pointer"},children:O.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"multiplayer-config-variant-host",style:{display:"block",marginBottom:"8px",color:"#d7dadc",fontSize:14},children:"Game Variant"}),e.jsxs("select",{id:"multiplayer-config-variant-host",value:h,onChange:t=>M(t.target.value),style:{width:"100%",padding:"10px",borderRadius:6,border:"1px solid #3A3A3C",background:"#372F41",color:"#ffffff",fontSize:14,cursor:"pointer"},children:[e.jsx("option",{value:"standard",children:"Standard (6 guesses)"}),e.jsx("option",{value:"speedrun",children:"Speedrun (Unlimited guesses, timed)"}),e.jsx("option",{value:"solutionhunt",children:"Solution Hunt (See possible words)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginTop:"12px",marginBottom:"8px",color:"#d7dadc",fontSize:14},children:"Max players in room"}),e.jsx("select",{value:x,onChange:t=>A(parseInt(t.target.value,10)||2),style:{width:"100%",padding:"10px",borderRadius:6,border:"1px solid #3A3A3C",background:"#372F41",color:"#ffffff",fontSize:14,cursor:"pointer"},children:[2,3,4,5,6,7,8].map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{style:{marginTop:"4px"},children:[e.jsx("div",{style:{display:"block",marginBottom:"6px",color:"#d7dadc",fontSize:14},children:"Room visibility"}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:13,color:"#d7dadc"},children:[e.jsx("input",{type:"radio",name:"multiplayer-visibility",checked:c,onChange:()=>g(!0),style:{cursor:"pointer"}}),"Public (show in Open Rooms)"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:13,color:"#d7dadc"},children:[e.jsx("input",{type:"radio",name:"multiplayer-visibility",checked:!c,onChange:()=>g(!1),style:{cursor:"pointer"}}),"Private (invite only)"]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[e.jsx("button",{onClick:()=>{d(!1),a==null||a()},className:"homeBtn homeBtnOutline homeBtnLg",style:{flex:1,textAlign:"center"},children:"Cancel"}),e.jsx("button",{onClick:P,className:"homeBtn homeBtnGreen homeBtnLg",style:{flex:1,textAlign:"center"},children:"Continue"})]})]})]})})]}):e.jsx(u,{isOpen:s,onRequestClose:i,children:e.jsxs("div",{style:{padding:"24px"},children:[e.jsx("h2",{style:{margin:0,marginBottom:"16px",fontSize:20,fontWeight:"bold",color:"#ffffff"},children:"Verify your email"}),e.jsx("p",{style:{marginBottom:"20px",color:"#d7dadc",fontSize:14},children:"You must verify your email address or sign in with Google to play Multiplayer Mode."}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[e.jsx("button",{onClick:i,className:"homeBtn homeBtnOutline homeBtnLg",style:{flex:1,textAlign:"center"},children:"Close"}),e.jsx("button",{onClick:()=>{i(),r("/profile")},className:"homeBtn homeBtnGreen homeBtnLg",style:{flex:1,textAlign:"center"},children:"Go to Profile"})]})]})}):e.jsx(L,{isOpen:s,onRequestClose:i,title:"Multiplayer Mode",message:"You need to sign in to play Multiplayer Mode."})}export{$ as default};