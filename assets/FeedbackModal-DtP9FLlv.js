import{j as n,M as E}from"./prerender-BIIx8aII.js";import{r as b}from"./vendor-BsMbSbDn.js";class g{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const R=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:R()},y=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},_=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=y(e);i.publicKey=r.publicKey,i.blockHeadless=r.blockHeadless,i.storageProvider=r.storageProvider,i.blockList=r.blockList,i.limitRate=r.limitRate,i.origin=r.origin||t},k=async(e,t,r={})=>{const o=await fetch(i.origin+e,{method:"POST",headers:r,body:t}),s=await o.text(),a=new g(o.status,s);if(o.ok)return a;throw a},w=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},B=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},S=e=>e.webdriver||!e.languages||e.languages.length===0,v=()=>new g(451,"Unavailable For Headless Browser"),F=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},I=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},C=(e,t)=>e instanceof FormData?e.get(t):e[t],x=(e,t)=>{if(I(e))return!1;F(e.list,e.watchVariable);const r=C(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},j=()=>new g(403,"Forbidden"),H=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},A=async(e,t,r)=>{const o=Number(await r.get(e)||0);return t-Date.now()+o},T=async(e,t,r)=>{if(!t.throttle||!r)return!1;H(t.throttle,t.id);const o=t.id||e;return await A(o,t.throttle,r)>0?!0:(await r.set(o,Date.now().toString()),!1)},L=()=>new g(429,"Too Many Requests"),M=async(e,t,r,o)=>{const s=y(o),a=s.publicKey||i.publicKey,m=s.blockHeadless||i.blockHeadless,l=s.storageProvider||i.storageProvider,c={...i.blockList,...s.blockList},u={...i.limitRate,...s.limitRate};return m&&S(navigator)?Promise.reject(v()):(w(a,e,t),B(r),r&&x(c,r)?Promise.reject(j()):await T(location.pathname,u,l)?Promise.reject(L()):k("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},V=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},K=e=>typeof e=="string"?document.querySelector(e):e,O=async(e,t,r,o)=>{const s=y(o),a=s.publicKey||i.publicKey,m=s.blockHeadless||i.blockHeadless,l=i.storageProvider||s.storageProvider,c={...i.blockList,...s.blockList},u={...i.limitRate,...s.limitRate};if(m&&S(navigator))return Promise.reject(v());const f=K(r);w(a,e,t),V(f);const d=new FormData(f);return x(c,d)?Promise.reject(j()):await T(location.pathname,u,l)?Promise.reject(L()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",a),k("/api/v1.0/email/send-form",d))},z={init:_,send:M,sendForm:O,EmailJSResponseStatus:g},h={SERVICE_ID:"gmail-better-wordle",TEMPLATE_ID:"feedback_better_wordle",PUBLIC_KEY:"jIpS9TFRU6hC_kPiN",TO_EMAIL:"abhijeetsridhar14@gmail.com",SUBJECT:"feedback for better-wordle"};function q({isOpen:e,onRequestClose:t}){const[r,o]=b.useState(""),[s,a]=b.useState(!1),[m,l]=b.useState(null),c=b.useRef(null),u=()=>{c.current&&(clearTimeout(c.current),c.current=null)};b.useEffect(()=>()=>u(),[]);const f=async p=>{if(p.preventDefault(),!!r.trim()){u(),a(!0),l(null);try{await z.send(h.SERVICE_ID,h.TEMPLATE_ID,{message:r.trim(),to_email:h.TO_EMAIL,subject:h.SUBJECT},h.PUBLIC_KEY),l("success"),o(""),c.current=setTimeout(()=>{c.current=null,t(),l(null)},2e3)}catch(P){console.error("Error sending feedback:",P),l("error")}finally{a(!1)}}},d=()=>{u(),o(""),l(null),t()};return n.jsx(E,{isOpen:e,onRequestClose:d,titleId:"feedback-title",children:n.jsxs("div",{style:{textAlign:"left"},children:[n.jsx("h2",{id:"feedback-title",style:{margin:"0 0 16px 0",fontSize:20,fontWeight:"bold",color:"#ffffff"},children:"Send Feedback"}),n.jsx("p",{style:{margin:"0 0 20px 0",fontSize:14,color:"#d7dadc",lineHeight:1.5},children:"Your feedback helps us improve Wuzzle Games. All feedback is anonymous."}),n.jsxs("form",{onSubmit:f,children:[n.jsx("textarea",{value:r,onChange:p=>o(p.target.value),placeholder:"Share your thoughts, suggestions, or report issues...",rows:6,maxLength:1e3,required:!0,disabled:s,style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #3A3A3C",background:"#212121",color:"#ffffff",fontSize:14,outline:"none",resize:"vertical",fontFamily:"inherit",boxSizing:"border-box",marginBottom:"16px"}}),m==="success"&&n.jsx("div",{style:{padding:"12px",marginBottom:"16px",borderRadius:8,background:"#50a339",color:"#ffffff",fontSize:14,textAlign:"center"},children:"âœ“ Feedback sent successfully!"}),m==="error"&&n.jsx("div",{style:{padding:"12px",marginBottom:"16px",borderRadius:8,background:"#c45858",color:"#ffffff",fontSize:14,textAlign:"center"},children:"Error sending feedback. Please try again later."}),n.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[n.jsx("button",{type:"button",className:"homeBtn homeBtnOutline homeBtnLg",onClick:d,disabled:s,style:{minWidth:110,opacity:s?.7:1,cursor:s?"not-allowed":"pointer"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"homeBtn homeBtnGreen homeBtnLg"+(s||!r.trim()?" homeBtnNeutral":""),disabled:s||!r.trim(),style:{minWidth:150,cursor:s||!r.trim()?"not-allowed":"pointer",opacity:s||!r.trim()?.8:1},children:s?"Sending...":"Send Feedback"})]})]})]})})}export{q as default};