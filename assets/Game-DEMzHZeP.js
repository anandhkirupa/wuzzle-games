const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/prerender-BIIx8aII.js","assets/vendor-BsMbSbDn.js","prerender.css"])))=>i.map(i=>d[i]);
import{x as E,y as j,z as S,A as _,B as F,C as x,E as R,F as V,j as c,H as A,_ as z}from"./prerender-BIIx8aII.js";import{b as D,a as $,r as m}from"./vendor-BsMbSbDn.js";function U(a){const{mode:e,boards:t,speedrun:r,code:n,useQueryParams:u=!1}=a,s=S(e);if(!s)return U({...a,mode:"daily"});const p=E(e,{boards:t,speedrun:r});if(p.isValid||j(`Invalid game configuration: ${p.errors.join(", ")}`,"routing.buildGameUrl"),e==="multiplayer"&&n){if(u){const o=new URLSearchParams;return o.set("mode","multiplayer"),o.set("code",n),r&&o.set("speedrun","true"),t&&o.set("boards",t.toString()),`/game?${o.toString()}`}let l=`/game/multiplayer/${n}`;return r&&(l+="/speedrun"),l}if(u){const l=new URLSearchParams;return l.set("mode",e),r&&l.set("speedrun","true"),t&&s.supportsBoards&&l.set("boards",t.toString()),`/game?${l.toString()}`}let i=`/game/${e}`;return t&&s.supportsBoards&&(i+=`/${t}`),r&&s.supportsSpeedrun&&(t&&s.supportsBoards?i+="/speedrun":i+="?speedrun=true"),i}function I(a={},e=null){const{mode:t,boards:r,variant:n,code:u}=a,s=e==null?void 0:e.get("mode"),p=e==null?void 0:e.get("speedrun"),i=e==null?void 0:e.get("boards"),l=e==null?void 0:e.get("code");let o="daily";const M=s==="multiplayer",B=t==="multiplayer"||!!u,y=s==="1v1"||t==="1v1";t==="daily"||t==="marathon"||t==="solutionhunt"?o=_(t):B||y?o="multiplayer":s==="daily"||s==="marathon"||s==="solutionhunt"||M||y?o=M||y?"multiplayer":_(s):t&&t!=="multiplayer"&&!y&&(o="daily");const d=S(o);d||(o="daily");let b=!1;const G=(d==null?void 0:d.supportsSpeedrun)&&(s==="daily"||s==="marathon"||M||y);n==="speedrun"?b=(d==null?void 0:d.supportsSpeedrun)||!1:G&&p&&(b=F(p));let f=null;r?f=x(r):(G||o==="multiplayer")&&i&&(f=x(i));let g=u||l||null;g&&typeof g=="string"&&(/^\d{6}$/.test(g)||(g=null));const v=E(o,{boards:f,speedrun:b});return v.isValid||(j(`Invalid game configuration: ${v.errors.join(", ")}`,"routing.parseGameUrl"),f===null&&(d!=null&&d.supportsBoards)&&(f=1)),{mode:o,boards:f,speedrun:b,code:g,validationErrors:v.isValid?[]:v.errors}}function L(){const a=D(),[e]=$(),t=e.toString(),r=m.useMemo(()=>I(a,e),[a,t]),n=m.useMemo(()=>S(r.mode),[r.mode]),u=m.useMemo(()=>r.mode==="multiplayer",[r.mode]),s=m.useMemo(()=>(n==null?void 0:n.seo)||{title:"Game â€“ Wuzzle Games",description:"Play Wuzzle Games game modes including daily, marathon, speedrun and multi-board Wordle-style puzzles."},[n]),p=m.useMemo(()=>R(r.mode),[r.mode]),i=m.useCallback(o=>V(r.mode,o),[r.mode]),l=m.useCallback((o={})=>U({...r,...o}),[r]);return{...r,modeConfig:n,isMultiplayer:u,seo:s,features:p,supportsFeature:i,buildUrl:l}}const Q=m.lazy(()=>z(()=>import("./prerender-BIIx8aII.js").then(a=>a.Z),__vite__mapDeps([0,1,2]))),w=m.lazy(()=>z(()=>import("./prerender-BIIx8aII.js").then(a=>a.Y),__vite__mapDeps([0,1,2]))),H=({marathonLevels:a=[1,2,3,4]})=>{const{mode:e,boards:t,speedrun:r,isMultiplayer:n,seo:u}=L(),[s]=$(),p=s.get("archiveDate"),i=t?t.toString():null;return c.jsxs(c.Fragment,{children:[c.jsxs(A,{children:[c.jsx("title",{children:u.title}),c.jsx("meta",{name:"description",content:u.description})]}),n?c.jsx(Q,{}):c.jsx(w,{mode:e,boardsParam:i,speedrunEnabled:r,marathonLevels:a,archiveDate:p})]})};export{H as default};